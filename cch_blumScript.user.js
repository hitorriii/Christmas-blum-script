// ==UserScript==
// @name         Crypto Clickers Hub Blum script
// @version      2.0
// @namespace    Crypto Clickers Hub
// @description  Blum script
// @match        https://telegram.blum.codes/*
// @grant        none
// @downloadURL  https://github.com/hitorriii/Christmas-blum-script/raw/main/cch_blumScript.user.js
// @updateURL    https://github.com/hitorriii/Christmas-blum-script/raw/main/cch_blumScript.user.js
// @icon         https://cdn.prod.website-files.com/65b6a1a4a0e2af577bccce96/65ba99c1616e21b24009b86c_blum-256.png
// ==/UserScript==
(function(){'use strict';var C='2.0',D={p:!0,q:!0,r:!1},E=!1,F={t:0,u:0,v:0,w:0,x:0,y:!1};function G(){var e=document.querySelector(".pages-index-widgets-daily-reward.widget");if(e){var r=e.querySelector(".kit-pill.reset.is-state-claim.is-style-default.pill");r&&(r.click(),console.log("Ежедневная награда забрана!"))}}setInterval(G,1e3*Math.random()*2+5e3);var H=Array.prototype.push;Array.prototype.push=function(){for(var e=0;e<arguments.length;e++)I(arguments[e]);return H.apply(this,arguments)};function I(e){if(!e||!e.asset||E)return;switch(e.asset.assetType){case"BOMB":D.p&&F.u++;break;case"CLOVER":F.x++,J(e);break;case"FREEZE":F.v++,J(e);break;case"DOGS":F.w++,J(e);break;default:J(e)}}function J(e){if(!e||typeof e.onClick!="function")return;var r=function(t,n){return new n(t,{bubbles:!0,cancelable:!0,pointerId:1,isPrimary:!0,pressure:t==="pointerdown"?.5:0})},o=D.q?0:Math.floor(Math.random()*200)+100;setTimeout(function(){if(e.element){["pointerdown","mousedown","pointerup","mouseup","click"].forEach(function(a){var s=a.indexOf("pointer")===0?PointerEvent:MouseEvent;e.element.dispatchEvent(r(a,s))})}e.onClick(e),e.isExplosion=!0,e.addedAt=performance.now()},o)}function K(){var e=document.querySelector("#app > div > div > div.content > div.reward");e&&!F.y&&(F.y=!0,L())}function L(){F={t:0,u:0,v:0,w:0,x:0,y:!1}}function M(){return Math.floor(Math.random()*2e3+1e3)}function N(){if(E||!D.r)return;var e=document.querySelectorAll("button.kit-button.is-large.is-primary, button.kit-pill.reset.is-type-white.pill");e.forEach(function(r){r.textContent.trim().length>0&&setTimeout(function(){F.y=!0,L(),r.click()},M())})}function O(){var e=document.querySelector("div[data-v-26af7de6].error.page.wrapper");if(e){var r=e.querySelector("button.reset");r&&r.click()}}function P(){O(),setTimeout(P,Math.random()*3e3+5e3)}P();function Q(){N(),setTimeout(Q,1e3)}Q();var R=new MutationObserver(function(e){for(var r=0;r<e.length;r++)e[r].type==="childList"&&K()}),S=document.querySelector("#app");S&&R.observe(S,{childList:!0,subtree:!0});var T=document.createElement("div");T.className="settings-menu",T.style.display="none";var U=document.createElement("h3");U.className="settings-title",U.textContent="Crypto Clickers Hub";var V=document.createElement("button");V.className="settings-close-button",V.textContent="×",V.onclick=function(){T.style.display="none"},U.appendChild(V),T.appendChild(U);var W=document.createElement("button");function X(){E=!E,W.textContent=E?"Resume":"Pause"}W.textContent="Pause",W.className="pause-resume-btn",W.onclick=X,T.appendChild(W);var Y=[{label:"Skip Bombs",id:"skipBombs",tooltip:"Пропускать бомбы.",type:"checkbox"},{label:"Instant Click",id:"instantClick",tooltip:"Клик без задержки.",type:"checkbox"},{label:"Auto Play",id:"autoClickPlay",tooltip:'Автоматически нажимать "Play" после окончания игры.',type:"checkbox"}];Y.forEach(function(e){var r=document.createElement("div");r.className="setting-item";var o=document.createElement("div");o.className="setting-label";var t=document.createElement("span");t.className="setting-label-text",t.textContent=e.label,o.appendChild(t);var n=document.createElement("span");n.textContent="?",n.className="help-icon";var a=document.createElement("span");a.className="tooltiptext",a.innerHTML=e.tooltip,n.appendChild(a),o.appendChild(n),r.appendChild(o);if(e.type==="checkbox"){var s=document.createElement("label");s.className="switch";var c=document.createElement("input");c.type="checkbox",c.id=e.id;var l={skipBombs:"p",instantClick:"q",autoClickPlay:"r"};c.checked=D[l[e.id]]===!0,c.addEventListener("change",function(){D[l[e.id]]=c.checked,Z()}),s.appendChild(c);var d=document.createElement("span");d.className="slider",s.appendChild(d),r.appendChild(s)}T.appendChild(r)}),document.body.appendChild(T);var h=document.createElement("button");h.className="settings-button",h.textContent="⚙️",h.onclick=function(){T.style.display=T.style.display==="block"?"none":"block"},document.body.appendChild(h);function i(){var e=["❅","❆","❄"];for(var r=0;r<50;r++){var o=document.createElement("div");o.className="snowflake",o.textContent=e[Math.floor(Math.random()*e.length)],o.style.left=Math.random()*100+"vw",o.style.fontSize=Math.random()*10+10+"px",o.style.opacity=Math.random(),o.style.animationDelay=Math.random()*10+"s, "+Math.random()*3+"s",document.body.appendChild(o)}}i();function j(){var e=localStorage.getItem("CryptoClickersHubAutoclickerSettings");if(e){try{var r=JSON.parse(e),o={skipBombs:"p",instantClick:"q",autoClickPlay:"r"};Object.keys(r).forEach(function(t){o[t]&&(D[o[t]]=r[t])})}catch(t){console.error("Ошибка при чтении настроек:",t)}}}function Z(){var e={p:"skipBombs",q:"instantClick",r:"autoClickPlay"},r={};Object.keys(e).forEach(function(o){r[e[o]]=D[o]}),localStorage.setItem("CryptoClickersHubAutoclickerSettings",JSON.stringify(r))}j();Y.forEach(function(e){var r=document.getElementById(e.id);if(r&&r.type==="checkbox"){var o={skipBombs:"p",instantClick:"q",autoClickPlay:"r"};r.checked=D[o[e.id]]===!0}});var k=document.createElement("style");k.textContent=".settings-menu{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:rgba(255,250,250,0.95);border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,0.4);color:#333;font-family:'Arial',sans-serif;z-index:999999;padding:20px;width:360px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.1);background-image:url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDMwMCAzMDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTUwIiBjeT0iMTUwIiByPSIxMDAiIGZpbGw9IiMwMjU0NzYiLz48cGF0aCBkPSJNMTUwLDE1MGMtNTAsNTAtMTUwLDE1MCwxNTAsMTUwcy0xNTAtMTUwLTE1MCwxNTAgNTAsNTAgMTUwLDE1MCAxNTAtMTUwIiBmaWxsPSIjZmZmIi8+PGxpbmUgeDE9IjE1MCIgeTE9IjE1MCIgeDI9IjE1MCIgeTI9IjIwMCIgc3R5bGU9ImZpbGw6I2ZmZjtzdHJva2U6IzAyNTQ3NjtzdHJva2Utd2lkdGg6MjAiLz48bGluZSB4MT0iMTUwIiB5MT0iMTUwIiB4Mj0iMjUwIiB5Mj0iMTUwIiBzdHlsZT0iZmlsbDojZmZmO3N0cm9rZTojMDI1NDc2O3N0cm9rZS13aWR0aDoyMCIvPjwvc3ZnPg==\");background-size:cover}.settings-title{color:#B22222;font-size:20px;font-weight:700;margin-bottom:20px;display:flex;align-items:center;justify-content:space-between;padding-bottom:10px;border-bottom:2px solid #B22222}.settings-close-button{background:#FF6347;border:none;color:#fff;font-size:18px;cursor:pointer;padding:5px 10px;border-radius:8px;transition:background .3s}.settings-close-button:hover{background:#FF4500}.pause-resume-btn{width:100%;padding:10px;background:#B22222;border:none;border-radius:12px;color:#fff;font-weight:600;font-size:16px;cursor:pointer;transition:background .3s;margin-bottom:15px}.pause-resume-btn:hover{background:#FF4500}.setting-item{background:rgba(255,250,250,0.8);padding:12px;border-radius:12px;margin-bottom:10px;display:flex;align-items:center;justify-content:space-between;gap:10px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}.setting-label{display:flex;align-items:center;width:150px}.setting-label-text{color:#333;font-size:14px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.help-icon{position:relative;display:inline-flex;align-items:center;justify-content:center;background:#B22222;padding:2px 6px;border-radius:6px;margin-left:8px;font-size:12px;cursor:help;z-index:1;width:16px;height:16px;color:#fff;font-weight:bold}.help-icon .tooltiptext{visibility:hidden;width:200px;background-color:#333;color:#fff;text-align:left;border-radius:8px;padding:8px;position:absolute;z-index:99999;left:24px;top:50%;transform:translateY(-50%);opacity:0;transition:opacity .3s;box-shadow:0 4px 6px rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.2);font-size:12px;line-height:1.4;white-space:normal;pointer-events:none}.help-icon .tooltiptext::after{content:\"\";position:absolute;top:50%;left:-10px;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #333 transparent transparent}.help-icon:hover .tooltiptext{visibility:visible;opacity:1}.switch{position:relative;display:inline-block;width:50px;height:24px;margin-left:auto}.switch input{opacity:0;width:0;height:0}.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:rgba(255,255,255,0.1);transition:.4s;border-radius:24px}.slider:before{position:absolute;content:\"\";height:20px;width:20px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}input:checked+.slider{background-color:#227725}input:checked+.slider:before{transform:translateX(26px)}.settings-button{position:fixed;bottom:150px;right:30px;background:#B22222;backdrop-filter:blur(5px);border:none;border-radius:50%;width:60px;height:60px;font-size:28px;color:#fff;cursor:pointer;box-shadow:0 4px 12px rgba(0,0,0,0.3);transition:transform .3s,box-shadow .3s;z-index:999999}.settings-button:hover{transform:scale(1.1);box-shadow:0 6px 16px rgba(0,0,0,0.4)}@keyframes snowflakes-fall{0%{transform:translateY(-100px)}100%{transform:translateY(100vh)}}@keyframes snowflakes-shake{0%,100%{transform:translateX(0)}50%{transform:translateX(15px)}}.snowflake{position:fixed;top:-10px;color:#fff;user-select:none;font-size:24px;z-index:999998;animation-name:snowflakes-fall,snowflakes-shake;animation-duration:10s,3s;animation-timing-function:linear,ease-in-out;animation-iteration-count:infinite,infinite}",document.head.appendChild(k)})();
